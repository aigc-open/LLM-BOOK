本节讲解 Tile Code 支持的 Python 子集和对象模型。

首先要明确一个核心限制：Tile Code 中没有 Python 运行时！这意味着，只有文档中明确列举的 Python 特性才被支持。不要假设所有 Python 特性都可以使用。

让我们看左边支持的特性。

第一类是控制流语句。你可以使用 if、elif、else 条件语句，可以使用 for i in range(n) 循环，可以使用 while 循环，还支持任意嵌套的控制流。

第二类是基本类型。支持 int、float、bool 这些标量类型，以及 Tile 类型，也就是从 ct.load 返回的数组。

第三类是函数调用。可以调用使用 @ct.function 装饰的函数，也可以调用自动推断的函数。

第四类是内置操作。支持基本的算术运算，比如加减乘除。支持比较运算，比如大于、小于、等于。还支持逻辑运算，比如 and、or、not。

再看右边不支持的特性，这个列表很长。

不支持 Lambda 表达式、异常处理、协程、动态类型特性、反射和元编程。不支持文件 I/O 和大部分标准库。不能使用 print 函数进行调试。不支持字符串操作、列表推导式、字典和集合。不能在 Tile Code 中定义新的类。注意 range 函数不支持负步长。也不支持生成器和迭代器。

现在看底部的不可变性规则，这非常重要！

在 Tile Code 中创建的所有对象都是不可变的。当你写 x 等于 x 加 5 时，实际上是创建了一个新对象，而不是修改原来的 x。Tile 操作也是创建新的 Tile，不会修改原 Tile。

唯一的例外是：作为内核参数传入的数组是可以修改的。你可以使用 ct.store 函数修改数组的内容，这是唯一允许的可变操作。

理解这些限制非常重要，它们是 cuTile 能够高效编译到 GPU 代码的基础。

